<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Cryptic Legion</title>



    
    <!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>


    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <script defer src="main.js"></script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Raleway:wght@100;200;300;400;600;700;800;900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&display=swap");
* {
  margin: 0;
  padding: 0;
  border: 0;
  outline: 0;
  text-decoration: none;
  list-style: none;
  box-sizing: border-box;
}

:root {
  --poppins: "Poppins", sans-serif;
  --Lato: "Lato", sans-serif;
  --montserrat: "Montserrat", sans-serif;
  --verda: Verdana, Geneva, Tahoma, sans-serif;

  --main: #ebd978;
  --main2: #6c63ff;
  --main3: #101c32;
  --main4: #0c1525;
  --main5: #060b14;
  --sub-m: #00bf8e;
  --danger: #f75842;
  --warning: #f7c94b;
  --danger-varient: rgba(247, 88, 66, 0.4);
  --white: #fff;
  --Vwhite: #e9e7e7;
  --dwhite: #cccccc;
  --light: rgba(255, 255, 255, 0.7);
  --black: #000;
  --bg: #1f2641;
  --bg1: #2e3267;
  --bg2: #424890;

  --container-width-lg: 76%;
  --container-width-md: 90%;
  --container-width-sm: 94%;

  --trensition: all 400ms ease;
}

body {
  font-family: var(--montserrat);
  line-height: 1.7;
  color: var(--black);
}

.container {
  width: var(--container-width-lg);
  margin: 0 auto;
}

section {
  padding: 6rem 0;
}

section h2 {
  text-align: center;
  margin-bottom: 4rem;
}

h1,
h2,
h3,
h4,
h5 {
  line-height: 1.2;
}
.btn {
  position: relative;
  display: inline-block;
  padding: 10px;
  margin: 7px 0;
  color: var(--white);
  text-decoration: none;
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 1px;
  border-radius: 4px;
  background: var(--main3);
}
/*-------------------NAVBAR -------------------*/
nav {
  background: transparent;
  width: 100vw;
  position: fixed;
  top: 0;
  z-index: 50;
}

.nav__container {
  height: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

nav button {
  display: none;
}

nav img {
  margin: 0;
  padding: 0;
  width: 190px;
  margin-left: -15px;
  height: auto;
  cursor: pointer;
}

.nav-menu {
  display: flex;
  align-items: center;
  gap: 3rem;
}
.nav-menu a {
  position: relative;
  font-size: 1rem;
  font-family: var(--poppins);
  color: #ece584;
  font-weight: 500;
  text-decoration: none;
  margin-left: 10px;
  margin-top: 35px;
  transition: var(--trensition);
}
.nav-menu li a::after {
  position: absolute;
  content: "";
  left: 0;
  bottom: -6px;
  width: 100%;
  height: 3px;
  background-color: var(--main);
  border-radius: 4px;
  transform: scaleX(0);
  transition: transform 0.5s;
}
.nav-menu li a:hover {
  color: var(--white);
}
.nav-menu li a .u:hover::after {
  transform: scaleX(1);
}
.Logo-name {
  margin-left: -390px;
  margin-top: 35px;
  padding: 0;
  color: #fff;
}

.Logo-name2{
  font-size: medium;
}
nav h4 {
  font-size: 1.6rem;
  font-family: var(--poppins);
}
nav p {
  font-size: 1.3rem;
  font-weight: 400;
}
.Enroll-btn {
  width: 100px;
  height: 40px;
  padding: 10px;
  margin: 0;
  background-color: var(--main5);
  font-size: 1rem;
  outline: none;
  border: none;
  border-radius: 5px;
  transition: 0.8s;
}

.window-scroll {
  background: var(--main3);
  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2);
  transition: 0.3s;
}

/* HEADER */
header {
  background-image: linear-gradient(rgba(9, 5, 54, 0.3), rgba(5, 4, 46, 0.7));
}
header .container {
  position: relative;
  top: 10rem;
  overflow: hidden;
  height: 70vh;
  margin-bottom: 5rem;
}
.header-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  color: var(--white);
  gap: 5rem;
  height: 100%;
}

.Cnt01 {
  padding: 5vw 8vw 0 2vw;
  margin: 0 8vw 2vw 2vw;
}

.welcome {
  font-family: var(--verda);
  text-align: left;
  color: var(--main3);
}
.welcome-txt {
  display: flex;
  flex-direction: column;
  justify-content: left;
  align-items: left;
  text-align: left;
}
/* Slider */
#slider {
  position: relative;
  height: 700px; /* Adjust the height as needed */
  overflow: hidden;
}

#slider img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 900px;
  opacity: 0;
  transition: opacity 1s ease;
  z-index: -1;
}

#slider img.active {
  opacity: 1;
}

/*================= FACILITIES ======================*/
.facilities {
  background: var(--dwhite);
  height: 29rem;
  margin-bottom: 0;
}

.facilities h1 {
  line-height: 1;
  margin-bottom: 3rem;
}

.facilities-container {
  display: grid;
  grid-template-columns: 60% 40%;
  gap: 4rem;
}
.facilities-container .facilities-left h5 {
  font-size: 19px;
}
.facilities-container .facilities-left p {
  font-size: 13px;
  font-weight: 500;
}
.facilities-right h1 {
margin-bottom: 0;
}
.facilities-right p {
  margin: 1rem 0 3rem;
}
.facilities-left {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.2rem;
}

.facility {
  background-color: var(--Vwhite);
  padding: 2rem;
  border-radius: 2rem;
  transition: var(--trensition);
}

.facility:hover {
  box-shadow: 0 3rem 3rem rgba(0, 0, 0, 0.3);
}

.facilities-icon {
  background-color: var(--bg2);
  padding: 0.6rem;
  border-radius: 0.9rem;
}

.facility h5 {
  margin: 2rem 0 1rem;
  font-size: 9.9rem;
}
.facility:nth-child(2) .facilities-icon {
  background: var(--sub-m);
}
.facility:nth-child(3) .facilities-icon {
  background: var(--danger);
}
.facility:nth-child(4) .facilities-icon {
  background: var(--warning);
}

.admin-sch {
  width: 180px;
  height: 180px;
  border-radius: 50%;
}

#management {
  margin-top: 90px;
  padding: 8vw 8vw 0 8vw;
  text-align: center;
}
#management .management-box {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: 1rem;
  margin-top: 50px;
  margin-bottom: 50px;
}
#management .management-box .pro {
  background-color: #ebebe5;
  padding: 30px 10px;
  border-radius: 10px;
}
.pro-link {
  margin-top: 10px;
}
.pro-link i {
  padding: 10px 13px;
  border: 1px solid rgb(2, 2, 75);
  cursor: pointer;
  border-radius: 5px;
  transition: 0.4s ease-out;
}
.pro-link i:hover {
  background-color: rgb(2, 2, 75);
  cursor: pointer;
  color: #fff;
}
.pro-links {
  margin-top: 10px;
}
.pro-links i {
  color: #000000;
  padding: 10px 13px;
  border: none;
  cursor: pointer;
  font-weight: 400;
  border-radius: 5px;
  background-color: #fff;
  transition: 0.4s ease-out;
}
.pro-links i:hover {
  background-color: rgb(2, 2, 75);
  cursor: pointer;
  color: #fff;
}

/* TESTIMONIALS */
.testimonial-conatainer {
  overflow-x: hidden;
  position: relative;
  margin-bottom: 5rem;
}

.testimonial {
  padding-top: 2rem;
}

.avatar {
  width: 6rem;
  height: 6rem;
  border-radius: 50%;
  overflow: hidden;
  margin: 0 auto 1rem;
}
.avatar img {
  width: 6rem;
  height: 6rem;
  border-radius: 50%;
}

.testimonial-info {
  text-align: center;
}

.testimonial-body {
  background: var(--main3);
  color: var(--light);
  padding: 2rem;
  margin-top: 3rem;
  position: relative;
}
.testimonial-body::before {
  content: "";
  display: block;
  background: linear-gradient(
    135deg,
    transparent,
    var(--main3),
    var(--main3),
    var(--main3)
  );
  width: 3rem;
  height: 3rem;
  position: absolute;
  left: 46%;
  top: -1.5rem;
  transform: rotate(45deg);
}

footer {
  background: var(--main3);
  padding-top: 5rem;
  font-size: 1rem;
  font-family: var(--Lato);
}
.footer-container {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 5rem;
}
.footer-container > div h4 {
  margin-bottom: 1.2rem;
  color: var(--Vwhite);
}
.footer-1 p {
  margin: 0 0 2rem;
  color: var(--white);
}

footer ul li {
  margin-bottom: 0.7rem;
  color: var(--Vwhite);
}
footer ul li a {
  color: var(--white);
}
footer ul li a:hover {
  text-decoration: underline;
  color: var(--main);
}

.footer-4 {
  color: var(--white);
}

.footer-socials {
  display: flex;
  gap: 1rem;
  font-size: 1.2rem;
  margin-top: 2rem;
}

.footer-copyright {
  color: var(--white);
  text-align: center;
  margin-top: 4rem;
  padding: 1.2rem 0;
  border-top: 0.5px solid;
}
.facility:nth-child(2) .facility:nth-child(4) {
  transition: all 3s;
}
.facilities,
.facility:nth-child(3) {
  transition: all 1s;
}
pro:nth-child(2) {
  transition: all 5s;
}
pro:nth-child(3) {
  transition: all 7s;
}
pro:nth-child(4) {
  transition: all 8s;
}

.scrool {
  opacity: 0;
  filter: blur(5px);
  transform: translateX(-100%);
  transition: all 1s;
}
.vibe {
  opacity: 0;
  filter: blur(5px);
  transform: translateY(-100%);
  transition: all 1s;
}
.pop {
  opacity: 0;
  filter: blur(5px);
  transform: translateX(100%);
  transition: all 1s;
}
.show {
  opacity: 1;
  filter: blur(0);
  transform: translateX(0);
}
.team{
    background: var(--main4);
    box-shadow: inset 0 0 3rem rgba(0, 0, 0, 0.5);
}

.team h2{
    color: var(--white);
    font-family: var(--Lato);
}

.team-container{
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2.5rem;
    margin-left: 10rem;
}
.team-member{
    background: var(--main3);
    padding: 1.5rem;
    border: 1px solid transparent;
    transition: var(--trensition);
    position: relative;
    overflow: hidden;
}
.team-member:hover{
    background: transparent;
    border-color: var(--main3);
}

.team-member-image img{
    width: 180px;
    height: 180px;
    align-items: center;
    /* filter: saturate(0); */
    transition: var(--trensition);
}

.team-member-info{
    text-align: center;
    margin-top: 1.4rem;
    font-family: var(--poppins);
    color: var(--white);
}
.team-member-info p{
    color: var(--light);
}

.team-member-socials{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: -100%;
    display: flex;
    flex-direction: column;
    background: var(--main3);
    border-radius: 1rem 0 0 1rem;
    box-shadow: -4rem 0 4rem rgba(0, 0, 0, 0.3);
    transition: var(--trensition);
}
.team-member-socials a{
    padding: 1rem;
    color: var(--white);
}
.team-member:hover
.team-member-socials{
    right: 0;
}
.team-head{
  margin-top: 85px;
}

.team-member-video {
  width: 100%;
  height: 200px;
  overflow: hidden;
  border-radius: 0.5rem;
}

.team-member-video iframe,
.team-member-video video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* =====================================
   TABLET MEDIA QUERY (1024px)
   ===================================== */
@media screen and (max-width: 1024px) {
  .container {
    width: var(--container-width-md);
  }

  /* NavBar */
  nav button {
    display: inline-block;
    background: transparent;
    font-size: 1.8rem;
    color: var(--white);
    cursor: pointer;
  }

  nav button#close-menu-btn {
    display: none;
  }
  .nav-menu {
    position: fixed;
    top: 5rem;
    right: 5%;
    height: fit-content;
    width: 18rem;
    flex-direction: column;
    gap: 0;
    display: none;
  }

  .nav-menu li {
    width: 100%;
    height: 5.8rem;
  }

  .nav-menu li a {
    background: var(--main3);
    box-shadow: -4rem 6rem 18rem rgba(0, 0, 0, 0.6);
    width: 100%;
    height: 100%;
    display: grid;
    place-items: center;
  }
  .nav-menu li a:hover {
    background-color: var(--main4);
  }
  nav img {
    margin: 0;
    padding: 0;
    width: 100px;
    margin-left: -5px;
    height: auto;
    cursor: pointer;
  }
  .Logo-name {
    margin-left: -350px;
    margin-top: 35px;
    padding: 0;
    color: #fff;
  }
  nav h4 {
    font-size: 1.4rem;
    font-family: var(--poppins);
  }
  nav p {
    font-size: 1.2rem;
    font-weight: 350;
  }
  .nav-menu li a:hover::after {
    display: none;
  }

  /* HEADER */
  header {
    height: 52vh;
  }
  header .container {
    height: 100%;
  }
  #slider {
    height: 500px; 
  }

  .header-container {
    gap: 3rem;
    margin-bottom: 50px;
  }
  .header-left {
    margin-bottom: 0;
  }
  
  /* FACILITIES */
  .facilities {
    height: auto; /* Allow height to adjust to content */
  }
  .facilities-container {
    grid-template-columns: 1fr; /* Stack columns */
    gap: 2.5rem;
  }

  /* TEAM SECTION */
  .team-container {
    grid-template-columns: repeat(2, 1fr); /* 2 columns on tablet */
    gap: 1.5rem;
    margin-left: 0; /* Remove fixed margin */
  }

  /* FOOTER */
  .footer-container {
    grid-template-columns: repeat(2, 1fr); /* 2 columns on tablet */
  }
}

/* =====================================
   MOBILE MEDIA QUERY (620px)
   ===================================== */
@media screen and (max-width: 620px) {
  .container {
    width: var(--container-width-sm);
  }
  
  /* NavBar */
  .nav-menu {
    right: 3%;
  }
  nav img {
    margin-right: 25px;
    padding: 0;
    width: 80px;
    height: 80px;
    cursor: pointer;
  }
  .Main-img {
    margin: 0;
  }
  .Logo-name {
    margin-left: -70px;
    margin-top: 9px;
    padding: -50px;
    color: #fff;
  }
  nav h4 {
    font-size: 1.1rem;
    font-family: var(--poppins);
  }
  nav p {
    font-size: 0.9rem;
    font-weight: 350;
  }
  nav button {
    display: inline-block;
    background: transparent;
    font-size: 1.8rem;
    margin-right: 20px;
    color: var(--white);
    cursor: pointer;
  }
  
  /* HEADER */
  header {
      height: 82.3vh;
  }
  .header-container {
    grid-template-columns: 1fr;
    text-align: center;
    margin-top: 0;
    gap: 0;
  }
  .header-left p {
    margin-bottom: 1.3rem;
  }

  /* FACILITIES */
  .facilities-container {
    grid-template-columns: 1fr; /* Stack on mobile */
    gap: 1.5rem;
  }
  .facilities-left {
    grid-template-columns: 1fr; /* Stack facility boxes */
    gap: 1rem;
  }
  .facility {
    padding: 1.5rem;
  }

  /* MANAGEMENT */
  #management {
    margin-top: 6rem; /* Reduced excessive margin */
  }

  /* TEAM */
  .team-container{
    grid-template-columns: 1fr; /* Single column on mobile */
    gap: 1rem;
  }
  .team-member {
    padding: 1rem;
    margin-left:1rem;
    display: flex;
    flex-direction: column;
    align-items: center; /* Center member content */
  }

  /* TESTIMONIALS */
  .testimonial-body {
    padding: 1.2rem;
  }

  /* FOOTER */
  .footer-container {
    grid-template-columns: 1fr;
    text-align: center;
    gap: 2rem;
  }

  .footer-1 p {
    margin: 1rem auto;
  }
  .footer-socials {
    justify-content: center;
  }
}

    </style>
</head>
<body>
    <nav>
        <div class="container nav__container">
            <a href="index.html">
                <img src="The_Cryptic_Legion_Logo__1_-removebg-preview.png" alt="logo" class="Main-img">
            </a>
            <h4 class="Logo-name">The Cryptic Legion
                <br>
                <p class="Logo-name2">The Game Never Sleeps</p>
            </h4>
            <ul class="nav-menu">
                <li><a href="index.html" class="u">Home</a></li>
                <li><a href="indexhighlight.html" class="u">Highlights</a></li>
                <li><a href="IndexNews.html" class="u">News</a></li>
            </ul>
            <button id="open-menu-btn"><i class='bx bx-menu'></i></button>
            <button id="close-menu-btn"><i class='bx bx-x'></i></button>
        </div>
    </nav>
    <header>
        <div id="slider">
            <div class="slide">
                <div class="container header-container">
                    <div class="header-left scrool">
                        <h1>Where Passion Meets the Beautiful Game</h1>
                        <p>From grassroots to the grand stage, football unites us all.
                            Dive into stories, highlights, and insights that bring the game to life.
                            Every match, every moment, every heartbeat captured here</p>
                        <a href="about.html" class="btn">Join the Match</a>
                    </div>
                </div>
            </div>
            </div>
    </header>

    <div class="Cnt01">
        <h1 class="welcome">Highlights</h1>
        <p class="welcome-txt">
            Welcome to The Cryptic Legion. Here, The Game Never Sleeps, and neither does our hunt for footballing genius. We deliver the most electrifying goals and jaw-dropping skills from around the globe, 24/7. Every clip is pure magic, making that extra second of loading just the anticipation before the roar. Join the Legion for non-stop brilliance.
        </p>
    </div>

    <section class="team">
        <h2 class="team-head">Highlights</h2>
        <div class="container team-container" id="highlight-videos-section">
            <p id="loading-videos">Loading highlights...</p> 
        </div>
    </section>


    <footer>
        <div class="container footer-container">
            <div class="footer-1">
                <a href="index.html" class="footer-logo"><h4>About Us</h4></a>
                <p>The Cryptic Legion brings you football’s drama, passion, rivalries, transfers, and unforgettable stories where the beautiful game truly lives.</p>
            </div>

            <div class="footer-2">
                <h4>Permalinks</h4>
                <ul class="permalinks">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="indexhighlight.html">Highlights</a></li>
                    <li><a href="IndexNews.html">News</a><a href="indexhighlightadmin.html">.</a></li>
                </ul>
            </div>

            <div class="footer-4">
                <h4>Contact Us</h4>
                <div>
                    <p>+234 81 5234 6609</p>
                    <p>crypticlegion4@gmail.com</p>
                </div>
                <ul class="footer-socials">
                    <li><a href="#"><i class='bx bxl-whatsapp'></i></a></li>
                    <li><a href="#"><i class='bx bxl-facebook'></i></a></li>
                    <li><a href="#"><i class='bx bx-phone'></i></a></li>
                </ul>
            </div>

        </div>
        <div class="footer-copyright">
            <small>Copyright &copy; The Cryptic Legion</small>
        </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    
    <script>// --- SUPABASE CONFIGURATION ---

    const SUPABASE_URL = 'https://hzduwqstaowpllqmuwrc.supabase.co'; 

    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh6ZHV3cXN0YW93cGxscW11d3JjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NjM4NDgsImV4cCI6MjA3NDAzOTg0OH0.V0QQ_au79MtQ7T6p6uDn_c2xkMrIt2L5QwqF_InN9eM'; 



    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);



    // --- TABLES AND IDS ---

    const HIGHLIGHT_VIDEO_TABLE = 'crypticLegionHighlightVideos';

    const HIGHLIGHT_IMAGE_TABLE = 'crypticLegionHighlightImages';

    const HEADER_IMAGES_CONTAINER_ID = 'slider'; 

    const HIGHLIGHT_VIDEOS_CONTAINER_ID = 'highlight-videos-section'; 



    // --- CORE FETCHING LOGIC ---

    const fetchSupabaseData = async (tableName) => {

        const { data, error } = await supabase

            .from(tableName)

            .select('*')

            .order('id', { ascending: false }); 



        if (error) {

            console.error(`Error fetching data from ${tableName}:`, error);

            return [];

        }

        return data;

    };



    // ----------------------------------------------------------------------

    // --- RENDERING FUNCTIONS ---

    // ----------------------------------------------------------------------



    // Renders the Corasel/Header Images

    const renderHeaderImages = (images) => {

        const slider = document.getElementById(HEADER_IMAGES_CONTAINER_ID);

        if (!slider) return;



        // 1. Get the static text slide (the content you want to keep)

        const textSlide = slider.querySelector('.slide');

        

        // 2. Clear the entire slider content

        slider.innerHTML = ''; 

        

        // 3. Re-insert the static text slide

        if (textSlide) slider.appendChild(textSlide);



        // 4. Insert the dynamic images from Supabase

        images.forEach((image) => {

            const img = document.createElement('img');

            img.src = image.src;

            img.alt = `Header Image ${image.id}`;

            slider.appendChild(img);

        });

        

        // 5. Initialize the Corasel with the new images

        initCorasel(); 

    };



    // Renders the Highlight Videos

    const renderHighlightVideos = (videos) => {

        const container = document.getElementById(HIGHLIGHT_VIDEOS_CONTAINER_ID);

        if (!container) return;



        container.innerHTML = ''; 



        if (videos.length === 0) {

            container.innerHTML = '<p>No highlights available yet. Check back soon!</p>';

            return;

        }



        videos.forEach(video => {

            const article = document.createElement('article');

            article.className = 'team-member'; 



            article.innerHTML = `

                <div class="team-member-video">

                    <video src="${video.src}" controls width="100%" height="200" loop></video>

                </div>

                <div class="team-member-info">

                    <h4>Highlight</h4>

                    <p>${video.description || 'Footage from the Legion'}</p>

                </div>

            `;

            container.appendChild(article);

        });

    };



    // ----------------------------------------------------------------------

    // --- INITIALIZATION FUNCTIONS (YOUR ORIGINAL CODE REFACTORED) ---

    // ----------------------------------------------------------------------



    // Handles the Image Carousel functionality

    function initCorasel() {

        const slider = document.getElementById(HEADER_IMAGES_CONTAINER_ID);

        if (!slider) return;

        

        const images = slider.querySelectorAll('img');

        let currentImageIndex = 0;

        

        if (images.length === 0) return;



        // Clear previous interval

        if (slider.hasAttribute('data-interval')) {

            clearInterval(parseInt(slider.getAttribute('data-interval')));

        }

        

        // Ensure only one image is active at the start

        images.forEach(img => img.classList.remove('active'));

        images[currentImageIndex].classList.add('active');



        function showNextImage() {

            images[currentImageIndex].classList.remove('active');

            currentImageIndex = (currentImageIndex + 1) % images.length;

            images[currentImageIndex].classList.add('active');

        }



        const newInterval = setInterval(showNextImage, 5000);

        slider.setAttribute('data-interval', newInterval); 

    }

    

    // Handles Nav Scroll

    function initNavScroll() {

        window.addEventListener('scroll', () => {

            document.querySelector('nav').classList.toggle('window-scroll', window.scrollY > 0);

        });

    }



    // Handles Swiper

    function initSwiper() {

        new Swiper(".mySwiper", {

            slidesPerView: 1, spaceBetween: 20, loop: true, grabCursor: true,

            pagination: { el: ".swiper-pagination", clickable: true },

            autoplay: { delay: 7000, disableOnInteraction: false },

            breakpoints: { 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }

        });

    }



    // Handles Menu Bar Toggle

    function initMenuBarToggle() {

        const menu = document.querySelector(".nav-menu");

        const menuBtn = document.querySelector("#open-menu-btn");

        const closeBtn = document.querySelector("#close-menu-btn");



        if (!menu || !menuBtn || !closeBtn) return;



        const closeNav = () => {

            menu.style.display = "none";

            closeBtn.style.display = "none";

            menuBtn.style.display = "inline-block";

        }



        menuBtn.addEventListener('click', () => {

            menu.style.display = "flex";

            closeBtn.style.display = "inline-block";

            menuBtn.style.display = "none";

        })



        closeBtn.addEventListener('click', closeNav);

    }



    // Handles Scroll Animation

    function initScrollAnimation() {

        const observer = new IntersectionObserver((entries) => {

            entries.forEach((entry) => {

                if (entry.isIntersecting) {

                    entry.target.classList.add('show');

                } else {

                    entry.target.classList.remove('show');

                }

            });

        });

        document.querySelectorAll('.scrool, .vibe, .pop').forEach((el) => observer.observe(el));

    }



    // Handles Count Animations

    function animateCount(id, plusId, targetCount, interval) {

        const countElement = document.getElementById(id);

        const plusElement = document.getElementById(plusId);

        if (!countElement) return;



        function animatePlusSign() {

            if (plusElement) {

                plusElement.style.opacity = "1";

                plusElement.style.transform = "scale(1)";

            }

        }

        let count = 0;

        const counterInterval = setInterval(() => {

            count++;

            countElement.textContent = count;

            if (count === targetCount) {

                clearInterval(counterInterval);

                setTimeout(animatePlusSign, 500);

            }

        }, interval);

    }



    function initCountAnimations() {

        if (document.getElementById("count")) animateCount("count", "plus", 75, 75);

        if (document.getElementById("coun")) animateCount("coun", "plu", 1000, 5.5);

        if (document.getElementById("cou")) animateCount("cou", "pl", 25, 250);

    }



    // ----------------------------------------------------------------------

    // --- MASTER INITIALIZATION FUNCTION ---

    // ----------------------------------------------------------------------



    const loadDynamicContent = async () => {

        // 1. Load data from Supabase

        const videoData = await fetchSupabaseData(HIGHLIGHT_VIDEO_TABLE);

        const imageData = await fetchSupabaseData(HIGHLIGHT_IMAGE_TABLE);

        

        // 2. Render dynamic content first

        renderHighlightVideos(videoData);

        renderHeaderImages(imageData); // Calls initCorasel() inside

        

        // 3. Initialize all static functionality

        initNavScroll();

        initMenuBarToggle();

        initScrollAnimation();

        initCountAnimations(); 

        initSwiper(); 

    };



    // This ensures everything runs only once after the entire page is loaded

    document.addEventListener('DOMContentLoaded', loadDynamicContent);




    </script>
</body>
</html>










